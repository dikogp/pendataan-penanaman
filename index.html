<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tanamanku Super App</title>
    <link rel="manifest" href="app-manifest.json" />
    <meta name="theme-color" content="#10b981" />
    <meta
      name="description"
      content="Super app untuk manajemen tanaman lengkap - penanaman, perawatan, marketplace, dan komunitas"
    />
    <meta
      name="keywords"
      content="tanaman, berkebun, agrikultur, marketplace, komunitas, super app"
    />
    <link
      rel="apple-touch-icon"
      href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGRpY2UgZmlsbD0iIzM1OTY3OCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4IiByeD0iMiI+PC9kaWNlPjxwYXRoIGZpbGw9IiM5OTE3MzIiIGQ9Im1xME40OC5qNC5qNnE2OS40NSI+PC9wYXRoPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE4IiByeD0iNSIgcnk9IjMiIGZpbGw9IiM2NDM0ODkiLz48L3N2Zz4="
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="offline-indicator" id="offlineIndicator">📱 Mode Offline</div>

    <div class="install-prompt" id="installPrompt">
      <span
        >📱 Install aplikasi ini di perangkat Anda untuk akses yang lebih
        mudah!</span
      >
      <button
        class="btn"
        style="width: auto; margin: 0; padding: 8px 16px"
        onclick="installApp()"
      >
        Install
      </button>
    </div>

    <div class="container">
      <div class="app-header">
        <h1>� Tanamanku Super App</h1>
        <p>Platform lengkap untuk semua kebutuhan tanaman Anda</p>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="switchTab('dashboard')">
          🏠 Dashboard
        </button>
        <button class="tab" onclick="switchTab('input')">
          📝 Tambah Tanaman
        </button>
        <button class="tab" onclick="switchTab('search')">
          🔍 Cari Tanaman
        </button>
        <button class="tab" onclick="switchTab('list')">📋 Kebunku</button>
        <button class="tab" onclick="switchTab('care')">💧 Perawatan</button>
        <button class="tab" onclick="switchTab('marketplace')">
          🛒 Marketplace
        </button>
        <button class="tab" onclick="switchTab('community')">
          👥 Komunitas
        </button>
        <button class="tab" onclick="switchTab('stats')">📊 Analitik</button>
      </div>

      <!-- Tab Dashboard -->
      <div id="dashboardTab" class="tab-content active">
        <div class="dashboard-grid">
          <div class="card dashboard-card">
            <h3>🌱 Ringkasan Kebun</h3>
            <div class="dashboard-stats">
              <div class="stat-item">
                <span class="stat-number" id="totalPlantsCount">0</span>
                <span class="stat-label">Total Tanaman</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="activePlantsCount">0</span>
                <span class="stat-label">Tanaman Aktif</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="needsCareCount">0</span>
                <span class="stat-label">Perlu Perawatan</span>
              </div>
            </div>
          </div>

          <div class="card dashboard-card">
            <h3>🚨 Perawatan Hari Ini</h3>
            <div id="todayCareList" class="care-list">
              <p class="no-care">
                Tidak ada perawatan yang dijadwalkan hari ini
              </p>
            </div>
          </div>

          <div class="card dashboard-card">
            <h3>📈 Aktivitas Terbaru</h3>
            <div id="recentActivity" class="activity-list">
              <p class="no-activity">Belum ada aktivitas</p>
            </div>
          </div>

          <div class="card dashboard-card">
            <h3>🎯 Quick Actions</h3>
            <div class="quick-actions">
              <button class="btn btn-secondary" onclick="switchTab('input')">
                ➕ Tambah Tanaman Baru
              </button>
              <button class="btn btn-secondary" onclick="switchTab('care')">
                💧 Jadwal Perawatan
              </button>
              <button
                class="btn btn-secondary"
                onclick="switchTab('marketplace')"
              >
                🛒 Beli Perlengkapan
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab Input Data -->
      <div id="inputTab" class="tab-content">
        <div class="card">
          <h2 style="margin-bottom: 20px; color: #1e293b">
            ➕ Tambah Data Tanaman
          </h2>
          <form id="plantForm">
            <div class="form-group">
              <label for="plantName">Nama Tanaman</label>
              <input
                type="text"
                id="plantName"
                required
                placeholder="Contoh: Tomat Cherry"
              />
            </div>

            <div class="form-group">
              <label for="plantType">Jenis Tanaman</label>
              <select id="plantType" required>
                <option value="">Pilih jenis tanaman</option>
                <option value="sayuran">Sayuran</option>
                <option value="buah">Buah-buahan</option>
                <option value="herbs">Herbal/Rempah</option>
                <option value="hias">Tanaman Hias</option>
                <option value="pohon">Pohon</option>
              </select>
            </div>

            <div class="form-group">
              <label for="plantDate">Tanggal Tanam</label>
              <input type="date" id="plantDate" required />
            </div>

            <div class="form-group">
              <label for="plantLocation">Lokasi Penanaman</label>
              <input
                type="text"
                id="plantLocation"
                required
                placeholder="Contoh: Kebun Belakang A1"
              />
            </div>

            <div class="form-group">
              <label for="plantVariety">Varietas</label>
              <input
                type="text"
                id="plantVariety"
                placeholder="Contoh: Hibrida F1"
              />
            </div>

            <div class="form-group">
              <label for="plantNotes">Catatan</label>
              <textarea
                id="plantNotes"
                rows="3"
                placeholder="Catatan tambahan tentang penanaman..."
              ></textarea>
            </div>

            <button type="submit" class="btn">💾 Simpan Data Tanaman</button>
          </form>
        </div>
      </div>

      <!-- Tab Pencarian -->
      <div id="searchTab" class="tab-content">
        <div class="card">
          <h2 style="margin-bottom: 20px; color: #1e293b">🔍 Cari Tanaman</h2>

          <!-- Search Methods -->
          <div class="search-methods">
            <div class="search-method-card">
              <h3 style="color: #667eea; margin-bottom: 15px">
                📝 Cari dengan ID
              </h3>
              <div class="form-group">
                <label for="searchId">Masukkan ID Tanaman</label>
                <input
                  type="text"
                  id="searchId"
                  placeholder="Contoh: 1703521234567"
                />
              </div>
              <button type="button" class="btn" onclick="searchById()">
                🔍 Cari Tanaman
              </button>
            </div>

            <div class="search-method-card">
              <h3 style="color: #10b981; margin-bottom: 15px">
                📱 Scan Barcode
              </h3>
              <div class="barcode-scanner-section">
                <video
                  id="scannerVideo"
                  style="
                    display: none;
                    width: 100%;
                    max-width: 400px;
                    border-radius: 12px;
                    margin-bottom: 15px;
                  "
                ></video>
                <div
                  id="scannerPlaceholder"
                  style="
                    background: #f1f5f9;
                    border: 2px dashed #cbd5e1;
                    border-radius: 12px;
                    padding: 40px;
                    text-align: center;
                    margin-bottom: 15px;
                  "
                >
                  <div style="font-size: 3rem; margin-bottom: 10px">📷</div>
                  <p style="color: #64748b; margin-bottom: 15px">
                    Klik tombol di bawah untuk mulai scan barcode
                  </p>
                </div>
                <div class="scanner-controls">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    id="startScanBtn"
                    onclick="startBarcodeScanner()"
                  >
                    📷 Mulai Scan
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger"
                    id="stopScanBtn"
                    onclick="stopBarcodeScanner()"
                    style="display: none"
                  >
                    ⏹️ Stop Scan
                  </button>
                </div>
              </div>
              <div id="scanResult" style="margin-top: 15px"></div>
            </div>
          </div>

          <!-- Search Results -->
          <div id="searchResults" style="margin-top: 30px"></div>
        </div>
      </div>

      <!-- Tab Daftar Tanaman -->
      <div id="listTab" class="tab-content">
        <div class="card">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <h2 style="color: #1e293b">📋 Daftar Tanaman</h2>
            <button
              class="btn btn-danger"
              style="width: auto; padding: 8px 16px"
              onclick="clearAllData()"
            >
              🗑️ Hapus Semua
            </button>
          </div>
          <div id="plantList"></div>
        </div>
      </div>

      <!-- Tab Perawatan -->
      <div id="careTab" class="tab-content">
        <div class="card">
          <h2 style="margin-bottom: 20px; color: #1e293b">
            💧 Jadwal Perawatan Tanaman
          </h2>

          <div class="care-schedule-form">
            <h3>Buat Jadwal Perawatan Baru</h3>
            <form id="careScheduleForm">
              <div class="form-group">
                <label for="carePlantSelect">Pilih Tanaman</label>
                <select id="carePlantSelect" required>
                  <option value="">Pilih tanaman untuk dirawat</option>
                </select>
              </div>

              <div class="form-group">
                <label for="careType">Jenis Perawatan</label>
                <select id="careType" required>
                  <option value="">Pilih jenis perawatan</option>
                  <option value="watering">🚿 Penyiraman</option>
                  <option value="fertilizing">🌱 Pemupukan</option>
                  <option value="pruning">✂️ Pemangkasan</option>
                  <option value="repotting">🪴 Repotting</option>
                  <option value="pest-control">🐛 Pengendalian Hama</option>
                  <option value="harvesting">🌾 Panen</option>
                </select>
              </div>

              <div class="form-group">
                <label for="careFrequency">Frekuensi</label>
                <select id="careFrequency" required>
                  <option value="">Pilih frekuensi</option>
                  <option value="daily">Harian</option>
                  <option value="weekly">Mingguan</option>
                  <option value="monthly">Bulanan</option>
                  <option value="custom">Custom</option>
                </select>
              </div>

              <div class="form-group">
                <label for="careNotes">Catatan Perawatan</label>
                <textarea
                  id="careNotes"
                  rows="3"
                  placeholder="Catatan khusus untuk perawatan..."
                ></textarea>
              </div>

              <button type="submit" class="btn">💾 Simpan Jadwal</button>
            </form>
          </div>

          <div class="care-calendar">
            <h3>Jadwal Perawatan</h3>
            <div id="careList" class="care-items">
              <p class="no-data">Belum ada jadwal perawatan</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab Marketplace -->
      <div id="marketplaceTab" class="tab-content">
        <div class="card">
          <h2 style="margin-bottom: 20px; color: #1e293b">
            🛒 Marketplace Tanaman
          </h2>

          <div class="marketplace-categories">
            <button class="category-btn active" data-category="all">
              Semua
            </button>
            <button class="category-btn" data-category="seeds">Benih</button>
            <button class="category-btn" data-category="tools">Alat</button>
            <button class="category-btn" data-category="fertilizer">
              Pupuk
            </button>
            <button class="category-btn" data-category="pots">Pot</button>
          </div>

          <div class="search-bar">
            <input
              type="text"
              id="marketplaceSearch"
              placeholder="🔍 Cari produk..."
            />
          </div>

          <div class="marketplace-grid" id="marketplaceItems">
            <!-- Sample products -->
            <div class="product-card" data-category="seeds">
              <img
                src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjE1IiBmaWxsPSIjMTA5OEY5Ii8+Cjx0ZXh0IHg9IjUwIiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzc0MTUxIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7wn4yxPC90ZXh0Pgo8L3N2Zz4K"
                alt="Benih Tomat"
              />
              <h4>Benih Tomat Cherry</h4>
              <p class="price">Rp 25.000</p>
              <button class="btn btn-secondary">🛒 Beli</button>
            </div>

            <div class="product-card" data-category="tools">
              <img
                src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxyZWN0IHg9IjMwIiB5PSIzMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMTA5OEY5Ii8+Cjx0ZXh0IHg9IjUwIiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzc0MTUxIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7wn5qAPC90ZXh0Pgo8L3N2Zz4K"
                alt="Sekop Mini"
              />
              <h4>Sekop Mini</h4>
              <p class="price">Rp 45.000</p>
              <button class="btn btn-secondary">🛒 Beli</button>
            </div>

            <div class="product-card" data-category="fertilizer">
              <img
                src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxlbGxpcHNlIGN4PSI1MCIgY3k9IjUwIiByeD0iMjAiIHJ5PSIxNSIgZmlsbD0iIzEwOThGOSIvPgo8dGV4dCB4PSI1MCIgeT0iNzUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzM3NDE1MSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+8J+MsTA8L3RleHQ+Cjwvc3ZnPgo="
                alt="Pupuk Organik"
              />
              <h4>Pupuk Organik</h4>
              <p class="price">Rp 35.000</p>
              <button class="btn btn-secondary">🛒 Beli</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab Community -->
      <div id="communityTab" class="tab-content">
        <div class="card">
          <h2 style="margin-bottom: 20px; color: #1e293b">
            � Komunitas Tanamanku
          </h2>

          <div class="community-sections">
            <div class="community-section">
              <h3>💬 Forum Diskusi</h3>
              <div class="forum-topics">
                <div class="topic-card">
                  <h4>Tips Merawat Tanaman Hias Indoor</h4>
                  <p>
                    Diskusi tentang cara merawat tanaman hias di dalam
                    ruangan...
                  </p>
                  <div class="topic-meta">
                    <span>👤 AnakTani • 2 jam lalu</span>
                    <span>💬 12 balasan</span>
                  </div>
                </div>

                <div class="topic-card">
                  <h4>Solusi Hama pada Tanaman Sayuran</h4>
                  <p>
                    Berbagi pengalaman mengatasi hama pada tanaman sayuran...
                  </p>
                  <div class="topic-meta">
                    <span>👤 PetaniMuda • 5 jam lalu</span>
                    <span>💬 8 balasan</span>
                  </div>
                </div>
              </div>

              <button class="btn btn-secondary">💬 Buat Topik Baru</button>
            </div>

            <div class="community-section">
              <h3>📸 Galeri Tanaman</h3>
              <div class="gallery-grid">
                <div class="gallery-item">
                  <div class="gallery-placeholder">🌱</div>
                  <p>Tomat Cherry saya</p>
                  <small>by TaniPemula</small>
                </div>
                <div class="gallery-item">
                  <div class="gallery-placeholder">🌺</div>
                  <p>Bunga Mawar Merah</p>
                  <small>by KebunCantik</small>
                </div>
                <div class="gallery-item">
                  <div class="gallery-placeholder">🥬</div>
                  <p>Sayuran Hidroponik</p>
                  <small>by HidroponikID</small>
                </div>
              </div>

              <button class="btn btn-secondary">📸 Upload Foto</button>
            </div>

            <div class="community-section">
              <h3>🎓 Tips & Tutorial</h3>
              <div class="tutorial-list">
                <div class="tutorial-item">
                  <span class="tutorial-icon">🌱</span>
                  <div>
                    <h4>Cara Menanam dari Benih</h4>
                    <p>Panduan lengkap menanam tanaman dari benih</p>
                  </div>
                </div>
                <div class="tutorial-item">
                  <span class="tutorial-icon">💧</span>
                  <div>
                    <h4>Teknik Penyiraman yang Benar</h4>
                    <p>Tips penyiraman untuk berbagai jenis tanaman</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab Statistik -->
      <div id="statsTab" class="tab-content">
        <div class="card">
          <h2 style="margin-bottom: 20px; color: #1e293b">📊 Analitik Kebun</h2>
          <div class="stats-grid" id="statsGrid"></div>
          <div id="monthlyChart"></div>

          <div class="analytics-section">
            <h3>📈 Tren Pertumbuhan</h3>
            <div class="growth-chart">
              <canvas id="growthChart" width="400" height="200"></canvas>
            </div>
          </div>

          <div class="analytics-section">
            <h3>🏆 Pencapaian</h3>
            <div class="achievements">
              <div class="achievement-card">
                <span class="achievement-icon">🌱</span>
                <div>
                  <h4>Pemula Sejati</h4>
                  <p>Menanam tanaman pertama</p>
                </div>
              </div>
              <div class="achievement-card">
                <span class="achievement-icon">💧</span>
                <div>
                  <h4>Rajin Merawat</h4>
                  <p>Melakukan perawatan 10 kali</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- External JavaScript Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>

    <!-- Main Application Script -->
    <script src="script.js"></script>
  </body>
</html>
